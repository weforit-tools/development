<!DOCTYPE html>
<html>
	<head>
		<title>WeForIT Tools</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="./css/lib.css">
		<link rel="stylesheet" href="./css/font-awesome.min.css">
		<link rel="stylesheet" href="./css/style.css">
		<link rel="manifest" href="./manifest.json">
		<link rel="shortcut icon" href="./favicon.ico" type="image/x-icon">
		<link rel="icon" href="./favicon.ico" type="image/x-icon">
		<script type="text/javascript">
			var app = {
				'scroll_offset'	: 60,
				'api'			: 'https://weforit.com/api/',
				'current_url'	: 'http://localhost/test/css-minify?skip=1',
				'data_table'	: {
						"retrieve"			: true,
				        "scrollY"			: '300px',
				    	"scrollX"			: true,
				        "scrollCollapse"	: true,
						"paging"			: false
				},
				'table_export'	: {},
			}
		</script>
	</head>
	<body id="body">
		<script type="javascript/process" id="setTimeout">self.onmessage = function(e){var time = e.data;setTimeout(function(){postMessage('1');},time);}</script>
		<script type="javascript/process" id="setInterval">self.onmessage = function(e){var time = e.data;setInterval(function(){postMessage('1');},time);}</script>
		<noscript>
			<div class="modal-backdrop show"></div>
			<div class="modal fade show d-block" >
				<div class="modal-dialog">
					<div class="modal-content border-0">
						<div class="modal-header bg-danger text-white">
							<h6 class="mb-0 d-flex align-items-center"><i class="fa fa-2x fa-times-circle-o mr-2"></i>JavaScript Disabled</h6>
						</div>
						<div class="modal-body text-center">
							 All Controls and Functions has been disabled. This App require JavaScript must be enabled into your browser.
						</div>
					</div>
				</div>
			</div>
		</noscript>
		
		<div id="wrapper">
			<header id="header">
				<a class="logo" href="./">
					<span class="logo-lg">WeForIT Tools</span>
				</a>
				<nav class="navbar navbar-expand navbar-dark bg-primary shadow-sm">
					<a href="/" class="nav-link logo-mobile"><img style="width:1.2rem" src="./images/icons/favicon-32x32.png"/></a>
					<a href="#" class="sidebar-toggle nav-link" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
						<i class="fa fa-bars"></i>
					</a>
					<ul class="navbar-nav ml-auto">
						<li class="nav-item dropdown">
							<a class="nav-link" href="#" data-toggle="dropdown" data-display="static" aria-haspopup="true" aria-expanded="false"><i class="fa fa-bell-o"></i></a>
							<div class="dropdown-menu dropdown-menu-right" style="min-width:20rem">
								
								<div class="small">
									<div class="text-center">0 Notifications</div>
								</div>
							</div>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="/"><i class="fa fa-home"></i></a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="#"><i class="fa fa-info-circle"></i></a>
						</li>
					</ul>
				</nav>
			</header>
			<aside id="sidebar" class="main-sidebar">
				<section>
					<form class="search">
						<input type="text" class="form-control form-control-sm" placeholder="Search" />
						<button class="btn"><i class="fa fa-search"></i></button>
					</form>
				</section>
				<ul class="navbar-nav">					
				<li class="nav-item"><a href="#daily_tools" class="nav-link collapsed" data-toggle="collapse"><i class="fa fa-clock-o"></i>Daily Tools</a><ul id="daily_tools" class="collapse navbar-nav" data-parent="#sidebar"><li class="nav-item"><a class="nav-link" href="./file-list-generator"><i class="fa fa-list"></i>File List Generator</a></li></ul></li><li class="nav-item"><a href="#seo_tools" class="nav-link collapsed" data-toggle="collapse"><i class="fa fa-search"></i>SEO Tools</a><ul id="seo_tools" class="collapse navbar-nav" data-parent="#sidebar"><li class="nav-item"><a class="nav-link" href="./faq-page-json-ld-schema-generator"><i class="fa fa-code"></i>FAQPage Generator</a></li></ul></li><li class="nav-item"><a href="#text_tools" class="nav-link collapsed" data-toggle="collapse"><i class="fa fa-gears"></i>Text Tools</a><ul id="text_tools" class="collapse navbar-nav" data-parent="#sidebar"><li class="nav-item"><a class="nav-link" href="./reverse-text"><i class="fa fa-refresh"></i>Reverse Text</a></li><li class="nav-item"><a class="nav-link" href="./split-text"><i class="fa fa-code-fork"></i>Split Text</a></li><li class="nav-item"><a class="nav-link" href="./add-prefix-add-suffix"><i class="fa fa-plus-circle"></i>Add Prefix / Suffix</a></li><li class="nav-item"><a class="nav-link" href="./convert-new-lines-into-spaces"><i class="fa fa-unsorted"></i>Convert Line to Space</a></li><li class="nav-item"><a class="nav-link" href="./convert-space-into-new-lines"><i class="fa fa-bars"></i>Convert Space to Line</a></li><li class="nav-item"><a class="nav-link" href="./remove-blank-lines"><i class="fa fa-eraser"></i>Remove Blank Lines</a></li><li class="nav-item"><a class="nav-link" href="./text-case-convert"><i class="fa fa-font"></i>Case Convert</a></li></ul></li><li class="nav-item"><a href="#website_tools" class="nav-link collapsed" data-toggle="collapse"><i class="fa fa-globe"></i>Website Tools</a><ul id="website_tools" class="collapse navbar-nav" data-parent="#sidebar"><li class="nav-item"><a class="nav-link" href="./htaccess-file-caching-generator"><i class="fa fa-bolt"></i>Caching Generator</a></li><li class="nav-item"><a class="nav-link" href="./encode-url-decode-url"><i class="fa fa-link"></i>Encode/Decode URL</a></li><li class="nav-item"><a class="nav-link" href="./ck-html-editor"><i class="fa fa-code"></i>HTML Editor</a></li><li class="nav-item"><a class="nav-link" href="./html-tag-extractor"><i class="fa fa-share"></i>HTML Tag Extractor</a></li><li class="nav-item"><a class="nav-link" href="./xml-sitemap-to-url"><i class="fa fa-file-code-o"></i>XML Sitemap to URL</a></li><li class="nav-item"><a class="nav-link" href="./url-to-xml-sitemap-generator"><i class="fa fa-file-text"></i>URL to XML Sitemap</a></li></ul></li>					<!--
					<li class="nav-item">
						<a href="#texttool" class="nav-link collapsed" data-toggle="collapse"><i class="fa fa-gears"></i>Text Tools</a>
						<ul id="texttool" class="collapse navbar-nav" data-parent="#sidebar">
							<li class="nav-item">
								<a class="nav-link" href="./text-case-convert"><i class="fa fa-font"></i>Convert Text Case</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="./reverse-text"><i class="fa fa-refresh"></i>Reverse Text</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="./split-text"><i class="fa fa-code-fork"></i>Split Text</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="./add-prefix-add-suffix"><i class="fa fa-plus-circle"></i>Add Prefix/Suffix</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="./convert-new-line-into-spaces"><i class="fa fa-unsorted"></i>Convert Line to Space</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="./convert-spaces-into-lines"><i class="fa fa-bars"></i>Convert Space to Line</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="./remove-blank-lines"><i class="fa fa-eraser"></i>Remove Blank Lines</a>
							</li>
						</ul>
					</li>
					<li class="nav-item">
						<a href="#webtool" class="nav-link collapsed" data-toggle="collapse"><i class="fa fa-globe"></i>Website Tools</a>
						<ul id="webtool" class="collapse navbar-nav" data-parent="#sidebar">
							<li class="nav-item">
								<a class="nav-link" href="./htaccess-file-caching-generator"><i class="fa fa-pie-chart"></i>Page Caching Generator</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="./encode-url-decode-url"><i class="fa fa-link"></i>Encode/Decode URL</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="./ck-html-editor"><i class="fa fa-link"></i>CK HTML Editor</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="./html-tag-extractor"><i class="fa fa-share"></i>HTML Tag Extractor</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="./xml-sitemap-to-url"><i class="fa fa-file-code-o"></i>Sitemap to URL Extractor</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="./url-to-xml-sitemap-generator"><i class="fa fa-file-text"></i>URL to Sitemap Generator</a>
							</li>
						</ul>
					</li>
					-->
				</ul>
			</aside>
			<div class="content-wrapper">
				<div class="callout collapse mb-0 callout-danger" id="navigator-offline">
					<strong><i class="fa fa-spin fa-spinner"></i> Connection Lost:</strong> App is in Offline Mode, Some Functionality has been disabled. Waiting for Connections is Online...
				</div>
				<div class="callout collapse mb-0 callout-warning" id="longtime">
					<strong><i class="fa fa-user"></i> Hey!!</strong>
					<br/>
					You didn't refresh this Page since last 30 Minutes. We are updating this Tool regularly so you'll miss the new functions and features. It is request to you, Please refresh the page.
					<br/>Thank You for using our Tools!!
				</div><nav class="title-bar mb-4">
	<div class="container-fluid bg-white shadow-sm py-2">
		<h6 class="mb-0"><i class="fa fa-code mr-2"></i>Minify CSS</h6>
	</div>
</nav>
<div class="container-fluid">

	<form class="row mt-3" id="minify-form">
		<div class="col-lg-12 mb-4">
			<div class="card border-0 shadow-sm mb-2" id="card-output">
				<div class="card-header small bg-white">
					<strong>Please Enter CSS Below</strong>
				</div>
				<div class="card-body">
					<div class="form-group">
						<textarea id="input" style="height:170px;" class="form-control form-control-sm" placeholder="CSS Code"></textarea>
					</div>
					<label class="small">- OR -</label>
					<div class="form-group">
						<div class="custom-file small">
							<input type="file" class="custom-file-input" id="css-file">
							<label class="custom-file-label" for="css-file">Choose file</label>
						</div>
					</div>
					<div class="form-row">
						<div class="col-md-6">
							<div class="custom-control custom-checkbox mb-3">
								<input type="checkbox" class="custom-control-input" id="comments">
								<label class="custom-control-label"  for="comments">Remove Comments</label>
							</div>
						</div>
					</div>
					<div class="text-center">
						<button type="submit" class="btn btn-primary">Minify CSS</button>
					</div>
				</div>
			</div>
		</div>
		<div class="col-lg-12 mb-4">
			<div class="card border-0 shadow-sm mb-2" id="card-output">
				<div class="card-header px-3 small bg-white">
					<strong>Output</strong>
				</div>
				<div class="card-body p-0">
					<textarea id="output" rows="10" class="form-control form-control-sm border-0 px-3 bg-white" readonly="true" placeholder="Output"></textarea>

				</div>
			</div>
			<div class="text-center mt-4">
				<button type="button" class="btn btn-dark">Copy</button>
			</div>

		</div>
	</form>
</div>



<script type="javascript/process" id="minifyCSS">
	importScripts('https://tool.weforit.com//js/functions.js');
	self.onmessage = function(e){
		if(e.data.type == 'file'){
			var reader = new FileReader();
			reader.onload = function(r){
				setTimeout(function(){postMessage(minify(r.target.result,e.data.comments))},0);
			}
			reader.readAsText(e.data.input);
		}else{
			setTimeout(function(){postMessage(minify(e.data.input,e.data.comments))},0);
		}
	}
	function minify(str,comments){
		if(!str){
			return;
		}
		str = str.replace(/\s+/g,' ');
		if(comments === true){
			str = str.replace(/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm, '');
		}
		return str;
	}
</script>

<script>

window.addEventListener('load',function(){
	$('#css-file').on('change',function(){
		$('#input').val('');
	});
	$('form#minify-form').submit(function(e){
		var comments = $('#comments').is(':checked');
		e.preventDefault();
		var type;
		if($('#input').val()){
			type = 'input';
		}else{
			if($('#css-file').prop('files')[0] && $('#css-file').prop('files')[0].name){
				type = 'file'
			}
			var fl = $('#css-file').prop('files')[0];
			if(!fl.type || fl.indexOf('text') == -1){
				snackbar('<i class="fa fa-times text-danger mr-2"></i>Invalid File');
				return;
			}
		}
		if(!type){
			return;
		}
		var $btn = $('button[type="submit"]',this);
		var btn_val = $btn.html();
		$btn.attr('disabled','true').html('<i class="fa fa-spin fa-spinner"></i>')
		start_process('#minifyCSS',function(p){
			$('#output').val('').attr('placeholder','Please Wait...');
			p.postMessage({
				'type'		: type,
				'input'		: (type == 'input'?$('#input').val():$('#css-file').prop('files')[0]),
				'comments'	: comments
			});
			p.onmessage = function(r){
				$('#output').val(r.data);
				p.terminate();
				p = undefined;
				$btn.removeAttr('disabled').html(btn_val);
			}
		});
	})
});
</script>

			</div>
			<div class="footer shadow-sm border-top small">
				<div class="container-fluid">
					<strong>Copyright &copy; 2019</strong>
				</div>
			</div>
		</div>
		<script src="./js/jquery-3.3.1.min.js"></script>
		<script src="./js/jquery-ui.js"></script>
		<script src="./js/popper.min.js"></script>
		<script src="./js/bootstrap.min.js"></script>
		<script src="./js/global.js"></script>
		<script src="./js/functions.js"></script>

		<script type="text/javascript">
			$('.sidebar-toggle').on('click',function(e){
				e.preventDefault();
				$('.main-sidebar').css('opacity',1)
				$('body').toggleClass('sidebar-close');
			});
		</script>
		<script type="text/javascript">
			start_process('#setTimeout',function(p){
				p.postMessage(1800000);
				p.onmessage = function(r){
					$('#longtime').collapse('show');
					scrollto('body');
				}
			});
			start_process('#setInterval',function(p){
				p.postMessage(5000);
				p.onmessage = function(r){
					$.ajax({
						url:'https://tool.weforit.com/',
						type:'HEAD',
				        success: function(xhr) {
							if($('#navigator-offline').is(":visible") == true){
								$('#navigator-offline').collapse('hide');
							}
				        },
				        error: function(){
							if($('#navigator-offline').is(":visible") !== true){
								$('#navigator-offline').collapse('show');
								scrollto('body',1)
							}
				        }
					});
				}
			});
		</script>
	</body>
</html>
